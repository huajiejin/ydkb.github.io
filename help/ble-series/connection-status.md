# 蓝牙开关和连接状态

注：YD60BLE v1.0当时没有加入蓝牙模块的电源控制，所以即使关闭了蓝牙功能，蓝牙依然是通电并且可以被搜索到的，只是相关功能无效。

## 蓝牙功能开关

> [!ydda] 注意
> - 大部分人一般用不上这个功能，这是给有需要长期或短期不使用蓝牙而设计的。
> - 如果日常使用想快速手动进入节能模式，请使用Lock Mode。

YDKB的键盘有的是物理开关可关闭蓝牙；有的物理开关则只是供电开关，关了后插上外部供电，蓝牙功能依然可用。

所以引入蓝牙开关，可以选择完全关闭键盘的蓝牙功能。

### 1 使用蓝牙功能开关
可以设置一个按键来开关蓝牙，如下图。也可以使用快捷键 <key>LShift+RShift+W</key>。

![|550](assets/conection_01.png)

- 仅按开关蓝牙或者 <kbd>LShift+RShift+W</kbd>，是打开蓝牙功能，键盘会重启一下。
- 如果先保持按住<kbd>LCtrl</kbd>，再按快捷键 ，才是关闭蓝牙功能，键盘会重启一下。
- 如果快捷键输出的是文字的电量值或键盘不会重启，那这个键盘是物理开关控制蓝牙。

在关闭蓝牙后，整个键盘的蓝牙部分都不再工作，此时也建议关闭电池开关。

### 2 判断蓝牙开关状态
有以下多个方法可以：
- 每次插线时或开关电源时，不再有连接状态的提示灯了。
- 有线使用键盘时，<kbd>LShift+RShift+S</kbd> 也不会显示蓝牙连接状态指示。
- 用文字输出电量结果是12-0，且不会更新。物理开关控制的键盘输出是120-0。

### 3 未插线时重新开启蓝牙功能
关闭蓝牙后未插线时，键盘未正常启动，此时没法用快捷键的方法重新打开蓝牙。可使用下面方法：
1. 插上USB线以有线模式启动键盘，然后用快捷键方法打开蓝牙功能。
2. 类似Lock Mode唤醒，同时按 <kbd>F</kbd> 和 <kbd>J</kbd>，可在不插线时，重新打开蓝牙。

以上，方法1适合所有的BLE系列键盘，方法2部分键盘可能不适用。


## 蓝牙连接状态

蓝牙功能开启时，会在每次启动时以及其他电源状态变动时自动显示蓝牙连接状态。

从这个指示灯也可以确认键盘是否正常启动了，以及正常从二级节能唤醒了。

> [!yddh] 蓝牙连接状态指示灯总规律
> - 未连接时led灯较快闪。如果有RGB灯，部分RGB灯也会较快闪蓝色。
> - 连续成功后闪的较慢闪几次。如果有RGB灯，部分RGB灯也会较慢闪绿色。

在使用键盘的过程中，也可以使用 <key>LShift+RShift+S</key>，手动查看蓝牙连接状态。

因为指示灯有限的原因，所以蓝牙连接状态的提示有的键盘会与低电量提示有重叠。优先提示低电量，只有在非低电量的时候，才会显示蓝牙连接状态。
