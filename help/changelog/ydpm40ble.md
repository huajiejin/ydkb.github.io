# YDPM40BLE 固件更新记录

「+」新增， 「-」删除， 「^」升级,  「#」修复,  『 』重要

##### 2022-11-03 (DMB3)
- 「+」二合一按键功能，增加 LT (P)。具体说明见: [按键 | 瞬时开启层](/edit-keymap/layer-tap-key.md)
- 『+』修饰键组合键的一点点增强，方便实现类似<kbd>Ctrl+H J K L</kbd>或<kbd>Ctrl+N B P F</kbd>为方向键的操作，具体见说明 [修饰键组合键](edit-keymap/mods-key.md)
- 「^」 提高 [Esc 与 \`\~](/features/tricky-esc) 功能在单独按触发 Esc 时的响应速度。
- 「#」修复问题：最新macOS下，键盘进入节能时电量未正确刷新，导致系统无显示。
- 「+」在1.2版的PCB（黑色，不支持alps轴的版本），不用手动短接硬件即可重置蓝牙。
- 「+」减小固件，在macOS下使用brew安装的bootloadhid可以直接更新固件。

##### 2021-03-02 (DL32)
  - {+} Shift+Esc输出\~的功能，更加的完善，具体看 [[features:tricky-esc|Esc 与 \`\~]]
  - {+} 在充电时也检测电量，更新电量百分比，并且显示为x1%的形式。数值仅供参考，误差比未充电时更大。(试验型功能，因为YDPM40BLE的硬件没设计检测充电状态，效果不好可能撤回此更新)
  - {^} 清除键盘端的蓝牙配对，由 **LShift+RShift+R** 改为 **LShift+RShift+LCtrl+R**，需要多按一个**LCtrl**，可以防止误操作。
  - [^] LEDMAP和按键扫描部分，提高一些效率（功能无变化）。

##### 2020-07-16 (DK7G)
  - {^} 按键防抖升级为混合防抖，改进某些国产轴有部分连击问题。同时，减少了防抖时间，提高了按键响应速度。
  - {^} 左右Shift+N切换全键无冲时，在可打字的地方会输出0或6，0代表全键无冲，6代表6键无冲。在全键无冲模式下，防抖更激进，响应更快速，但是某些国产轴部分连击问题，可能存在。
  - [+] 左右Shift+P切换节能时，在可打字的地方会输出1或0，1代表节能开启，0代表节能关闭。

##### 2020-05-24 (DK5O)
  - [+] **LShift+RShift+V** 这组命令键，在按的时候，后面会多输出一个-0或-1，代表键盘蓝牙连接状态。
  - {#} 因为有部分人误关掉蓝牙功能，本次更新调整开关蓝牙功能的切换方式，具体见[[ble-series:connection-status|蓝牙开关和连接状态]]
  - {^} 再优化键盘模拟鼠标功能的滚轮部分，之前滚轮速度起飞了。同时USB下移动流畅度再提升一点，速度减一点。

##### 2020-03-07 (DK37)
  - {^} 大幅度提升键盘模拟鼠标功能的流畅和精准性。
  - [^] 大幅减少Send Keymap总共所花的时间。
  - [^] 改进Win_Lock功能。之前只是禁用单独的设置的win键（即LWin或RWin），现在可以让所有与win相关的（包括组合键，二合一键等），都不触发win键本身。这样防止误按的效果更佳。
  - [#] 修复：在使用软件重置或者清除修饰时，最新版win10里会触发启动商店版Office(它的默认快捷键是LCtrl+LShift+LAlt+LWin)问题。

##### 2019-10-15 (DJAF)
  - [+]增加发送KEYMAP到ydkb.io。具体见 __[[edit-keymap:load-keymap|读取按键]]__

##### 2019-10-12 (DJAC)
  - {#} 修复问题：从节能状态按键唤醒时可能导致多触发另一个按键

##### 2019-10-04 (DJA4)
  - {^} 之前版本的固件直接读取KEYMAP后，蓝牙功能相关的增强按键需要重新选择设置
  - {^} 大幅度提升关闭RGB底灯和轴灯背光时的续航时间。
  - [+] 增加LEDMAP可设置背光和RGB为禁用，方便未焊灯的人禁用它，达到上一条省电的目的。
  - [+] 增加蓝牙多设备切换。具体见 __[[ble-series:device-switching|多设备切换]]__
  - [+] 电池服务如果不正常时，电量指示输出44或45。这个是用来辅助判断问题的。
  - {#} 修复问题： 左右Shift+R/I/O这三个功能，使用时可能导致蓝牙重新配置或出错。
  - [#] 修复问题：重置蓝牙后初始化时，偶尔重命名未成功。
  - [+] 插USB线识别的设备名，后面增加固件日期。比如今天的固件更新后，USB下识别的设备名后面会多一个DJA4,JA4分别代表年月日。
  - {^} 这个版本如果还要使用YDKB Control控制，需要重新下载新的版本，20191004的或者之后更新的。
  - [+] 增加蓝牙开关功能，可以完全关闭蓝牙；增加蓝牙连接状态指示。具体参看：__[[ble-series:connection-status|蓝牙开关和连接状态]]__
  - [ ] 默认由NKRO改为6KRO。默认6KRO对各种系统和硬件的兼容更好一些。


